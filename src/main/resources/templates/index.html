<!DOCTYPE html>
<html>
	<head>
		<title>top page</title>
		<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
	</head>

	<body class="container">
		<h1 class="display-4 mb-4" th:text="${title}"></h1>
		<p th:text="${msg}"></p>

		<form method="post" action="/" th:object="${formModel}">
			<style>
				.err {
					color: red;
				}
			</style>
			<div class="mb-3">
				<label for="name" class="form-label">Name</label>
				<input
					type="text"
					class="form-control"
					name="name"
					th:value="*{name}"
				/>
				<div
					th:if="${#fields.detailedErrors('name')}"
					th:errors="*{name}"
					th:errorClass="err"
				/>
			</div>
			<div class="mb-3">
				<label for="mail" class="form-label">Mail</label>
				<input
					type="text"
					class="form-control"
					name="mail"
					th:value="*{mail}"
				/>
				<div
					th:if="${#fields.detailedErrors('mail')}"
					th:errors="*{mail}"
					th:errorClass="err"
				/>
			</div>
			<div class="mb-3">
				<label for="age" class="form-label">Age</label>
				<input type="text" class="form-control" name="age" th:value="*{age}" />
				<div
					th:if="${#fields.detailedErrors('age')}"
					th:errors="*{age}"
					th:errorClass="err"
				/>
			</div>
			<div class="mb-3">
				<label for="memo" class="form-label">Memo</label>
				<textarea
					type="text"
					class="form-control"
					name="memo"
					th:value="*{memo}"
				></textarea>
				<div
					th:if="${#fields.detailedErrors('memo')}"
					th:errors="*{memo}"
					th:errorClass="err"
				/>
			</div>
			<input type="submit" class="btn btn-primary" value="Create" />
		</form>

		<table class="table">
			<thead>
				<tr>
					<th>ID</th>
					<th>Name</th>
					<th>Mail</th>
					<th>Age</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="item : ${data}">
					<td th:text="${item.id}"></td>
					<td th:text="${item.name}"></td>
					<td th:text="${item.mail}"></td>
					<td th:text="${item.age}"></td>
				</tr>
			</tbody>
		</table>
	</body>
</html>
